<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perfil do Usuário — Surreal (Azul)</title>

  <!-- Fontes -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Supabase (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <meta name="color-scheme" content="light dark">
  <style>
    /* ---------- PALETA AZUL PREMIUM (PADRÃO) - CORES MAIS AGRADÁVEIS ---------- */
    :root {
      --bg-1: #0f172a;          /* Slate-900: Mais suave que deep space blue */
      --bg-2: 1e293b;          /* Slate-800: Navy mais equilibrado */
      --card-bg: rgba(15, 23, 42, 0.8);
      --card-border: rgba(59, 130, 246, 0.2); /* Blue-500 suavizado */
      --accent: #60a5fa;        /* Blue-400: Céu azul mais gentil */
      --accent-hover: #3b82f6;  /* Blue-500: Hover mais profundo mas agradável */
      --text: #f8fafc;          /* Slate-50: Branco puro suave */
      --muted: #cbd5e1;         /* Slate-200: Cinza claro para texto secundário */
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      --shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.6);
      --rounded: 16px;
      --focus-ring: 0 0 0 4px rgba(59, 130, 246, 0.3);
      --accent-rgb: 96, 165, 250;
    }

    /* Tema Vermelho Completo - Suavizado */
    :root.theme-red {
      --bg-1: #1e1b18;          /* Stone-900 com tom quente */
      --bg-2: #2d1a18;          /* Tom marrom-avermelhado suave */
      --card-bg: rgba(30, 27, 24, 0.8);
      --card-border: rgba(239, 68, 68, 0.2); /* Red-500 suavizado */
      --accent: #f87171;        /* Rose-400: Vermelho mais rosado e gentil */
      --accent-hover: #ef4444;  /* Red-500: Hover equilibrado */
      --text: #fdf4f4;          /* Rose-50 */
      --muted: #fca5a5;         /* Rose-200 */
      --shadow: 0 10px 30px rgba(127, 29, 29, 0.4); /* Red-800 alpha */
      --shadow-hover: 0 12px 40px rgba(153, 27, 27, 0.5);
      --focus-ring: 0 0 0 4px rgba(239, 68, 68, 0.3);
      --accent-rgb: 248, 113, 113;
    }

    /* Tema Verde Completo - Suavizado */
    :root.theme-green {
      --bg-1: #111827;          /* Gray-900 neutro com toque verde */
      --bg-2: #1f2937;          /* Gray-800 */
      --card-bg: rgba(17, 24, 39, 0.8);
      --card-border: rgba(34, 197, 94, 0.2); /* Green-500 suavizado */
      --accent: #4ade80;        /* Green-400: Verde menta agradável */
      --accent-hover: #22c55e;  /* Green-500 */
      --text: #f0fdf4;          /* Green-50 */
      --muted: #bbf7d0;         /* Green-200 */
      --shadow: 0 10px 30px rgba(20, 83, 45, 0.4); /* Green-800 alpha */
      --shadow-hover: 0 12px 40px rgba(22, 101, 52, 0.5);
      --focus-ring: 0 0 0 4px rgba(34, 197, 94, 0.3);
      --accent-rgb: 74, 222, 128;
    }

    /* Tema Roxo Completo - Suavizado */
    :root.theme-purple {
      --bg-1: #1e1a2e;          /* Slate-900 com violeta */
      --bg-2: #2d1b69;          /* Violeta escuro suave */
      --card-bg: rgba(30, 26, 46, 0.8);
      --card-border: rgba(168, 85, 247, 0.2); /* Violet-500 */
      --accent: #a78bfa;        /* Violet-400: Roxo lavanda gentil */
      --accent-hover: #8b5cf6;  /* Violet-500 */
      --text: #faf5ff;          /* Violet-50 */
      --muted: #e9d5ff;         /* Violet-200 */
      --shadow: 0 10px 30px rgba(79, 70, 229, 0.4); /* Indigo-800 alpha */
      --shadow-hover: 0 12px 40px rgba(99, 102, 241, 0.5);
      --focus-ring: 0 0 0 4px rgba(168, 85, 247, 0.3);
      --accent-rgb: 167, 139, 250;
    }

    /* Tema Laranja Completo - Suavizado */
    :root.theme-orange {
      --bg-1: #1f1a14;          /* Amber-900 escuro */
      --bg-2: #2d2613;          /* Amber-800 */
      --card-bg: rgba(31, 26, 20, 0.8);
      --card-border: rgba(251, 146, 60, 0.2); /* Amber-500 */
      --accent: #fb923c;        /* Amber-400: Laranja suave */
      --accent-hover: #f59e0b;  /* Amber-500 */
      --text: #fff7ed;          /* Amber-50 */
      --muted: #fed7aa;         /* Amber-200 */
      --shadow: 0 10px 30px rgba(146, 64, 14, 0.4); /* Amber-800 alpha */
      --shadow-hover: 0 12px 40px rgba(180, 83, 9, 0.5);
      --focus-ring: 0 0 0 4px rgba(251, 146, 60, 0.3);
      --accent-rgb: 251, 146, 60;
    }

    /* Tema Rosa Completo - Suavizado */
    :root.theme-pink {
      --bg-1: #1e1623;          /* Rose-900 suave */
      --bg-2: #2d1b2a;          /* Rose-800 */
      --card-bg: rgba(30, 22, 35, 0.8);
      --card-border: rgba(244, 114, 182, 0.2); /* Pink-500 */
      --accent: #f472b6;        /* Pink-400: Rosa doce */
      --accent-hover: #ec4899;  /* Pink-500 */
      --text: #fdf2f8;          /* Pink-50 */
      --muted: #fbcfe8;         /* Pink-200 */
      --shadow: 0 10px 30px rgba(136, 19, 55, 0.4); /* Pink-800 alpha */
      --shadow-hover: 0 12px 40px rgba(190, 24, 93, 0.5);
      --focus-ring: 0 0 0 4px rgba(244, 114, 182, 0.3);
      --accent-rgb: 244, 114, 182;
    }

    /* Tema Ciano Completo - Suavizado */
    :root.theme-teal {
      --bg-1: #0f1f23;          /* Teal-900 */
      --bg-2: #0f2a2a;          /* Mantido, mas suave */
      --card-bg: rgba(15, 31, 35, 0.8);
      --card-border: rgba(45, 212, 191, 0.2); /* Teal-500 */
      --accent: #2dd4bf;        /* Teal-400: Ciano fresco */
      --accent-hover: #14b8a6;  /* Teal-500 */
      --text: #f0fdfa;          /* Teal-50 */
      --muted: #ccfbf1;         /* Teal-200 */
      --shadow: 0 10px 30px rgba(6, 78, 59, 0.4); /* Teal-800 alpha */
      --shadow-hover: 0 12px 40px rgba(15, 118, 110, 0.5);
      --focus-ring: 0 0 0 4px rgba(45, 212, 191, 0.3);
      --accent-rgb: 45, 212, 191;
    }

    /* Tema Preto e Branco (Cinza Escala) Completo - Suavizado */
    :root.theme-grayscale {
      --bg-1: #000000;          /* Mantido */
      --bg-2: #111111;          /* Mantido */
      --card-bg: rgba(0, 0, 0, 0.8);
      --card-border: rgba(255, 255, 255, 0.08);
      --accent: #ffffff;        /* Mantido */
      --accent-hover: #eeeeee;  /* Mantido */
      --text: #ffffff;
      --muted: #cccccc;
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
      --shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.8);
      --focus-ring: 0 0 0 4px rgba(255, 255, 255, 0.2);
      --accent-rgb: 255, 255, 255;
    }

    /* Light mode (opcional, mas mantido e suavizado) */
    :root.light {
      --bg-1: #f8fafc;          /* Slate-50 */
      --bg-2: #e2e8f0;          /* Slate-200 */
      --card-bg: #ffffff;
      --card-border: rgba(59, 130, 246, 0.2);
      --text: #0f172a;          /* Slate-900 */
      --muted: #64748b;         /* Slate-500 */
    }

    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Inter', 'Poppins', system-ui, sans-serif;
      background: linear-gradient(135deg, var(--bg-1), var(--bg-2));
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .wrap {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    .profile {
      width: 960px;
      max-width: 96%;
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 32px;
      padding: 32px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--rounded);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      position: relative;
      transition: background 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;
    }

    /* Left Column */
    .left {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    .avatar-wrap {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      padding: 4px;
      background: linear-gradient(135deg, var(--accent), var(--accent-hover));
      box-shadow: var(--shadow);
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }

    .avatar {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid var(--bg-1);
      background: var(--bg-2);
    }

    .name h1 {
      margin: 0;
      font-size: 1.6rem;
      font-weight: 700;
      letter-spacing: -0.3px;
    }

    .name p {
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 0.92rem;
    }

    .badges {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .badge {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--accent);
      background: rgba(100, 181, 246, 0.1);
      border: 1px solid rgba(100, 181, 246, 0.2);
      transition: background 0.3s ease, border 0.3s ease;
    }

    /* Right Column */
    .right {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }

    .email {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .controls {
      display: flex;
      gap: 12px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.2s ease;
      min-height: 44px;
    }

    .btn.ghost {
      background: transparent;
      border-color: rgba(255, 255, 255, 0.2);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    .btn:focus {
      outline: none;
      box-shadow: var(--focus-ring);
    }

    .btn.primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-hover));
      color: #0a192f;
      border: none;
      box-shadow: 0 6px 20px rgba(var(--accent-rgb), 0.3);
      transition: background 0.3s ease;
    }

    .btn.primary:hover {
      background: linear-gradient(135deg, var(--accent-hover), var(--accent));
    }

    /* NOVO: Botão de aviso pequeno (estilo ghost com cor de aviso) */
    .btn.warning-small {
      background: rgba(245, 158, 11, 0.1);
      border-color: rgba(245, 158, 11, 0.3);
      color: #f59e0b;
      padding: 8px 12px;
      font-size: 0.9rem;
      min-height: 40px;
    }

    .btn.warning-small:hover {
      background: rgba(245, 158, 11, 0.2);
      color: #d97706;
      transform: translateY(-1px);
    }

    .stats {
      display: flex;
      gap: 16px;
    }

    .stat {
      flex: 1;
      padding: 16px;
      text-align: center;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.05);
      transition: background 0.3s ease, border 0.3s ease;
    }

    .stat h3 {
      margin: 0;
      font-size: 1.2rem;
      font-weight: 700;
    }

    .stat p {
      margin: 8px 0 0;
      color: var(--muted);
      font-size: 0.85rem;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 16px;
    }

    .topic {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.05);
      color: var(--text);
      text-decoration: none;
      transition: all 0.25s ease;
    }

    .topic:hover {
      transform: translateY(-4px);
      background: rgba(100, 181, 246, 0.1);
      border-color: rgba(100, 181, 246, 0.3);
      box-shadow: 0 8px 24px rgba(0, 30, 60, 0.3);
    }

    .topic i,
    .topic svg {
      color: var(--accent);
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: color 0.3s ease;
    }

    .topic strong {
      display: block;
      font-weight: 600;
      font-size: 0.95rem;
    }

    .topic .muted {
      font-size: 0.8rem;
    }

    /* NOVO: Container para botões principais lado a lado */
    .main-buttons {
      display: flex;
      gap: 12px;
      margin: 20px 0;
    }

    /* ✨ BOTÃO DESTACADO: Montar Minha Rede */
    .cta-button {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 16px 24px;
      background: linear-gradient(135deg, var(--accent-hover), var(--accent));
      color: #0a192f;
      font-weight: 800;
      font-size: 1.1rem;
      text-decoration: none;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(var(--accent-rgb), 0.4);
      transition: all 0.3s ease;
      border: 2px solid rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }

    .cta-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.6s;
    }

    .cta-button:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 12px 32px rgba(var(--accent-rgb), 0.6);
      background: linear-gradient(135deg, var(--accent), var(--accent-hover));
    }

    .cta-button:hover::before {
      left: 100%;
    }

    .cta-button svg {
      width: 22px;
      height: 22px;
      animation: pulse 2s infinite;
      transition: stroke 0.3s ease;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* BOTÃO ESPECIAL PARA PROVA - DIFERENTE DA MAIORIA */
    .quiz-button {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 16px 24px;
      background: linear-gradient(135deg, var(--accent-hover), var(--accent));
      color: #0a192f;
      font-weight: 800;
      font-size: 1.1rem;
      text-decoration: none;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(var(--accent-rgb), 0.4);
      transition: all 0.3s ease;
      border: 2px solid rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }

    .quiz-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.6s;
    }

    .quiz-button:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 12px 32px rgba(var(--accent-rgb), 0.6);
      background: linear-gradient(135deg, var(--accent), var(--accent-hover));
    }

    .quiz-button:hover::before {
      left: 100%;
    }

    .quiz-button svg {
      width: 22px;
      height: 22px;
      animation: pulse 2s infinite;
      transition: stroke 0.3s ease;
    }

    /* Modal para o aviso */
    .warning-modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(10, 25, 47, 0.85);
      backdrop-filter: blur(8px);
      z-index: 100;
      padding: 20px;
      transition: background 0.3s ease;
    }

    .warning-modal-card {
      width: 500px;
      max-width: 95%;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--rounded);
      padding: 24px;
      box-shadow: var(--shadow);
      transition: background 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;
      text-align: center;
    }

    .warning-modal-card h3 {
      margin: 0 0 16px;
      font-weight: 700;
      color: #f59e0b; /* Cor de aviso */
    }

    .warning-modal-card p {
      margin: 0 0 20px;
      color: var(--text);
      line-height: 1.5;
      font-size: 1rem;
    }

    .warning-modal-card button {
      padding: 10px 20px;
      background: linear-gradient(135deg, var(--accent-hover), var(--accent));
      color: #0a192f;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .warning-modal-card button:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    /* Modal de Edição */
    .modal {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(10, 25, 47, 0.85);
      backdrop-filter: blur(8px);
      z-index: 100;
      padding: 20px;
      transition: background 0.3s ease;
    }

    .modal-card {
      width: 600px;
      max-width: 95%;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--rounded);
      padding: 24px;
      box-shadow: var(--shadow);
      transition: background 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;
    }

    .modal-card h3 {
      margin: 0 0 16px;
      font-weight: 700;
    }

    .modal-card input,
    .modal-card select {
      width: 100%;
      padding: 12px;
      margin: 6px 0 16px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(0, 0, 0, 0.2);
      color: var(--text);
      font-family: inherit;
      transition: border 0.3s ease, background 0.3s ease;
    }

    .modal-card input::placeholder {
      color: var(--muted);
    }

    /* Welcome Modal (melhorada) */
    .welcome-modal {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(180deg, rgba(2,6,23,0.75), rgba(2,6,23,0.85));
      backdrop-filter: blur(6px) saturate(1.1);
      z-index: 200;
      padding: 20px;
      transition: background 0.3s ease;
    }

    .welcome-card {
      display: flex;
      gap: 24px;
      width: 820px;
      max-width: 96%;
      max-height: 80vh;
      background: linear-gradient(180deg, rgba(12,28,48,0.7), rgba(8,20,36,0.6));
      border: 1px solid rgba(100, 181, 246, 0.14);
      border-radius: 20px;
      padding: 28px;
      box-shadow: 0 22px 60px rgba(0, 20, 40, 0.6);
      position: relative;
      overflow: hidden;
      transition: background 0.3s ease, border 0.3s ease;
    }

    .welcome-left { 
      flex: 1; 
      scroll-behavior: smooth;
      transition: opacity 220ms ease, transform 220ms ease; 
      max-height: 400px;
      overflow-y: auto;
      padding-right: 8px;
      scrollbar-width: thin;
      scrollbar-color: rgba(100, 181, 246, 0.5) transparent;
    }

    .welcome-left::-webkit-scrollbar {
      width: 6px;
    }

    .welcome-left::-webkit-scrollbar-track {
      background: transparent;
    }

    .welcome-left::-webkit-scrollbar-thumb {
      background: rgba(100, 181, 246, 0.5);
      border-radius: 3px;
      transition: background 0.3s ease;
    }

    .welcome-right { 
      position: absolute;
      bottom: 28px;
      right: 28px;
      width: 200px;
      height: 60px;
      flex-shrink: 0;
      max-height: 60px;
      overflow: hidden;
      scrollbar-width: thin;
      scrollbar-color: rgba(100, 181, 246, 0.5) transparent;
      transition: all 0.3s ease;
    }

    .welcome-right::-webkit-scrollbar {
      width: 6px;
    }

    .welcome-right::-webkit-scrollbar-track {
      background: transparent;
    }

    .welcome-right::-webkit-scrollbar-thumb {
      background: rgba(100, 181, 246, 0.5);
      border-radius: 3px;
      transition: background 0.3s ease;
    }

    .welcome-badge {
      padding: 8px 14px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), var(--accent-hover));
      color: #0a192f;
      font-weight: 800;
      font-size: 0.88rem;
      display:inline-block;
      transition: background 0.3s ease;
    }

    .welcome-title {
      font-size: 2rem;
      margin: 12px 0 6px;
      font-weight: 900;
      line-height: 1.05;
      color: var(--text);
    }

    .welcome-sub {
      color: var(--muted);
      margin-top: 10px;
      line-height: 1.5;
    }

    /* --- NOVO: Estilo aprimorado para o painel de desenvolvedores --- */
    .hero-plate {
      width: 100%;
      height: 100%;
      min-height: 60px;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(100, 181, 246, 0.1), rgba(66, 165, 245, 0.05));
      border: 1px solid var(--card-border);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      gap: 10px;
      color: var(--text);
      padding: 12px;
      text-align: center;
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03);
      cursor: pointer;
      transition: all 0.2s ease, background 0.3s ease, border 0.3s ease;
    }

    .hero-plate:hover {
      background: linear-gradient(135deg, rgba(100, 181, 246, 0.15), rgba(66, 165, 245, 0.1));
      border-color: rgba(100, 181, 246, 0.3);
    }

    .hero-plate.expanded {
      position: absolute;
      inset: 0;
      min-height: auto;
      padding: 40px 28px;
      border-radius: 20px;
      z-index: 5;
      display: flex !important;
      flex-direction: column;
      align-items: stretch;
      justify-content: flex-start;
      gap: 20px;
      box-shadow: none;
      transition: background 0.3s ease;
    }

    .hero-plate.expanded .hero-title {
      margin-bottom: 12px;
      text-align: left;
      font-size: 1.4rem;
    }

    .dev-list {
      list-style: none;
      margin: 8px 0 0;
      padding: 0;
      width: 100%;
      display: none;
      flex-direction: column;
      gap: 12px;
      max-height: none;
    }

    .hero-plate.expanded .dev-list {
      display: flex;
      flex: 1;
      overflow-y: auto;
      margin-top: 20px;
    }

    .dev-name {
      display: block;
      font-weight: 600;
      font-size: 1rem;
      color: var(--text);
      padding: 12px 16px;
      border-radius: 12px;
      background: rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(2px);
      transition: background 0.2s ease, color 0.3s ease;
      text-align: left;
    }

    .dev-name:hover {
      background: rgba(100, 181, 246, 0.15);
      color: var(--accent);
    }

    /* Ajustes para temas nos hover de topics e badge - ATUALIZADOS PARA NOVAS CORES */
    :root.theme-red .topic:hover,
    :root.theme-red .badge {
      background: rgba(248, 113, 113, 0.1);
      border-color: rgba(248, 113, 113, 0.3);
    }

    :root.theme-red .dev-name:hover {
      background: rgba(248, 113, 113, 0.15);
      color: var(--accent);
    }

    :root.theme-green .topic:hover,
    :root.theme-green .badge {
      background: rgba(74, 222, 128, 0.1);
      border-color: rgba(74, 222, 128, 0.3);
    }

    :root.theme-green .dev-name:hover {
      background: rgba(74, 222, 128, 0.15);
      color: var(--accent);
    }

    :root.theme-purple .topic:hover,
    :root.theme-purple .badge {
      background: rgba(167, 139, 250, 0.1);
      border-color: rgba(167, 139, 250, 0.3);
    }

    :root.theme-purple .dev-name:hover {
      background: rgba(167, 139, 250, 0.15);
      color: var(--accent);
    }

    :root.theme-orange .topic:hover,
    :root.theme-orange .badge {
      background: rgba(251, 146, 60, 0.1);
      border-color: rgba(251, 146, 60, 0.3);
    }

    :root.theme-orange .dev-name:hover {
      background: rgba(251, 146, 60, 0.15);
      color: var(--accent);
    }

    :root.theme-pink .topic:hover,
    :root.theme-pink .badge {
      background: rgba(244, 114, 182, 0.1);
      border-color: rgba(244, 114, 182, 0.3);
    }

    :root.theme-pink .dev-name:hover {
      background: rgba(244, 114, 182, 0.15);
      color: var(--accent);
    }

    :root.theme-teal .topic:hover,
    :root.theme-teal .badge {
      background: rgba(45, 212, 191, 0.1);
      border-color: rgba(45, 212, 191, 0.3);
    }

    :root.theme-teal .dev-name:hover {
      background: rgba(45, 212, 191, 0.15);
      color: var(--accent);
    }

    :root.theme-grayscale .topic:hover,
    :root.theme-grayscale .badge {
      background: rgba(255, 255, 255, 0.05);
      border-color: rgba(255, 255, 255, 0.1);
    }

    :root.theme-grayscale .dev-name:hover {
      background: rgba(255, 255, 255, 0.05);
      color: var(--accent);
    }

    /* Light mode adjustments - SUAVIZADO */
    :root.light .hero-plate {
      background: linear-gradient(135deg, rgba(200, 230, 255, 0.3), rgba(220, 240, 255, 0.2));
      border-color: rgba(59, 130, 246, 0.2);
    }

    :root.light .hero-plate.expanded {
      background: linear-gradient(135deg, rgba(200, 230, 255, 0.4), rgba(220, 240, 255, 0.3));
      border-color: rgba(59, 130, 246, 0.3);
    }

    :root.light .dev-name {
      background: rgba(0, 0, 0, 0.03);
      color: var(--text);
    }

    :root.light .dev-name:hover {
      background: rgba(59, 130, 246, 0.2);
      color: #0a2e5c;
    }
    /* --- FIM da melhoria --- */

    .welcome-close {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      z-index: 10;
      transition: all 0.2s ease;
      color: var(--text);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .welcome-close:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
      box-shadow: var(--shadow);
    }

    .welcome-close:focus {
      outline: none;
      box-shadow: var(--focus-ring);
    }

    .welcome-close i {
      font-size: 1.2rem;
    }

    /* Confete */
    .confetti-wrap {
      pointer-events: none;
      position: absolute;
      inset: 0;
      z-index: 400;
      overflow: visible;
    }

    .confetti-piece {
      position: absolute;
      top: 0;
      width: 10px;
      height: 14px;
      border-radius: 2px;
      opacity: 0.95;
      transform-origin: center;
      will-change: transform, opacity;
      animation-name: confetti-fall;
      animation-timing-function: cubic-bezier(.2,.7,.3,1);
      animation-fill-mode: forwards;
    }

    @keyframes confetti-fall {
      0% { transform: translate3d(0,-10px,0) rotate(0deg) scale(1); opacity: 1; }
      100% { transform: translate3d(var(--dx, 0px), 260px, 0) rotate(var(--rot, 360deg)) scale(0.95); opacity: 0; }
    }

    /* NOVO: Visualização Aprimorada da Paleta de Cores no Modal de Configurações */
    .theme-preview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 12px;
      margin: 16px 0;
      padding: 16px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .theme-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid transparent;
      position: relative;
      overflow: hidden;
    }

    .theme-option:hover,
    .theme-option.selected {
      border-color: var(--accent);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .theme-swatch {
      width: 100%;
      height: 60px;
      border-radius: 8px;
      position: relative;
      overflow: hidden;
    }

    .theme-swatch::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--bg-1), var(--bg-2));
      opacity: 0.8;
    }

    .theme-swatch::after {
      content: '';
      position: absolute;
      top: 4px;
      right: 4px;
      width: 20px;
      height: 20px;
      background: var(--accent);
      border-radius: 50%;
      border: 2px solid var(--bg-1);
    }

    .theme-label {
      font-size: 0.85rem;
      font-weight: 600;
      text-align: center;
      color: var(--text);
      white-space: nowrap;
    }

    /* Aplicar preview dinâmico para cada tema - ATUALIZADO */
    .theme-option[data-theme="blue"] .theme-swatch::before { background: linear-gradient(135deg, #0f172a, #1e293b); }
    .theme-option[data-theme="red"] .theme-swatch::before { background: linear-gradient(135deg, #1e1b18, #2d1a18); }
    .theme-option[data-theme="green"] .theme-swatch::before { background: linear-gradient(135deg, #111827, #1f2937); }
    .theme-option[data-theme="purple"] .theme-swatch::before { background: linear-gradient(135deg, #1e1a2e, #2d1b69); }
    .theme-option[data-theme="orange"] .theme-swatch::before { background: linear-gradient(135deg, #1f1a14, #2d2613); }
    .theme-option[data-theme="pink"] .theme-swatch::before { background: linear-gradient(135deg, #1e1623, #2d1b2a); }
    .theme-option[data-theme="teal"] .theme-swatch::before { background: linear-gradient(135deg, #0f1f23, #0f2a2a); }
    .theme-option[data-theme="grayscale"] .theme-swatch::before { background: linear-gradient(135deg, #000000, #111111); }

    .theme-option[data-theme="blue"] .theme-swatch::after { background: #60a5fa; }
    .theme-option[data-theme="red"] .theme-swatch::after { background: #f87171; }
    .theme-option[data-theme="green"] .theme-swatch::after { background: #4ade80; }
    .theme-option[data-theme="purple"] .theme-swatch::after { background: #a78bfa; }
    .theme-option[data-theme="orange"] .theme-swatch::after { background: #fb923c; }
    .theme-option[data-theme="pink"] .theme-swatch::after { background: #f472b6; }
    .theme-option[data-theme="teal"] .theme-swatch::after { background: #2dd4bf; }
    .theme-option[data-theme="grayscale"] .theme-swatch::after { background: #ffffff; }

    /* Responsive */
    @media (max-width: 900px) {
      .profile { 
        grid-template-columns: 1fr; 
        padding: 20px; 
        gap: 24px;
      }
      .left { order: 1; }
      .right { order: 2; }
      .avatar-wrap { width: 130px; height: 130px; }
      .welcome-modal { padding: 16px; }
      .welcome-card { 
        flex-direction: column; 
        gap: 16px; 
        width: 100%; 
        max-width: 100%; 
        max-height: 85vh;
        padding: 20px; 
        border-radius: 16px; 
      }
      .welcome-left { 
        flex: 1; 
        min-width: 0;
        max-height: 300px;
      }
      .welcome-right { 
        position: static;
        width: 100%;
        height: 60px;
        bottom: auto;
        right: auto;
        max-height: 60px;
      }
      .welcome-title { 
        font-size: 1.6rem;
        line-height: 1.1;
      }
      .welcome-sub { 
        font-size: 0.95rem;
        line-height: 1.4;
      }
      .hero-plate { 
        min-height: 50px; 
        padding: 10px; 
        gap: 8px;
      }
      .hero-plate.expanded {
        position: relative;
        inset: auto;
        width: 100%;
        height: auto;
        padding: 20px 16px;
        flex: 1;
        min-height: 200px;
      }
      .hero-plate.expanded .dev-list {
        gap: 8px;
        margin-top: 16px;
      }
      .hero-title { font-size: 1.1rem; }
      .dev-list { gap: 6px; }
      .dev-name { 
        font-size: 0.95rem; 
        padding: 10px 12px; 
      }
      .topbar { flex-direction: column; align-items: stretch; gap: 12px; }
      .controls { justify-content: center; }
      .theme-preview {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 8px;
        padding: 12px;
      }
      .theme-swatch { height: 50px; }
      .main-buttons { flex-direction: column; gap: 8px; }
      .cta-button, .quiz-button { padding: 14px 20px; font-size: 1rem; }
    }

    @media (max-width: 480px) {
      .wrap { padding: 16px; }
      .profile { padding: 16px; gap: 20px; }
      .avatar-wrap { width: 110px; height: 110px; }
      .name h1 { font-size: 1.3rem; }
      .stats { flex-direction: column; }
      .welcome-modal { padding: 12px; }
      .welcome-card { 
        gap: 12px; 
        padding: 16px; 
        border-radius: 12px; 
        max-height: 90vh;
      }
      .welcome-left { 
        flex: 1; 
        max-height: 250px;
      }
      .welcome-right { 
        height: 50px;
        max-height: 50px;
      }
      .welcome-title { 
        font-size: 1.3rem; 
      }
      .welcome-sub { 
        font-size: 0.9rem; 
        margin-top: 8px;
      }
      .welcome-badge { 
        font-size: 0.8rem; 
        padding: 6px 12px; 
      }
      .hero-plate { 
        min-height: 50px; 
        padding: 8px; 
        gap: 6px;
      }
      .hero-plate.expanded {
        padding: 16px 12px;
        gap: 16px;
      }
      .hero-title { font-size: 1rem; }
      .dev-list { gap: 4px; }
      .dev-name { 
        font-size: 0.9rem; 
        padding: 8px 10px; 
      }
      .welcome-title { font-size: 1.2rem; }
      .topics-grid { 
        grid-template-columns: repeat(2, 1fr); 
        gap: 12px; 
      }
      .topics-grid > a:nth-child(9) {
        grid-column: span 2;
        justify-self: center;
      }
      .topic { 
        padding: 16px; 
        flex-direction: column; 
        text-align: center; 
        gap: 8px;
      }
      .topic svg { 
        width: 28px;
        height: 28px;
      }
      .btn { 
        padding: 12px 18px; 
        font-size: 0.9rem; 
        justify-content: center;
      }
      .btn.warning-small { 
        padding: 6px 10px; 
        font-size: 0.8rem; 
        min-height: 36px;
      }
      .modal-card { padding: 20px; }
      .cta-button, .quiz-button {
        font-size: 1rem;
        padding: 14px 20px;
        margin: 0;
      }
      .cta-button svg, .quiz-button svg {
        width: 20px;
        height: 20px;
      }
      .theme-preview {
        grid-template-columns: repeat(4, 1fr);
        gap: 6px;
        padding: 8px;
      }
      .theme-swatch { height: 40px; }
      .theme-label { font-size: 0.8rem; }
    }

    .muted { color: var(--muted); }
    .small { font-size: 0.85rem; }
    .center { display: flex; align-items: center; justify-content: center; }

    /* Ajuste para confetti colors por tema - ATUALIZADO */
    :root.theme-red .confetti-piece { --confetti-colors: '#f87171,#fca5a5,#fecaca'; }
    :root.theme-green .confetti-piece { --confetti-colors: '#4ade80,#86efac,#dcfce7'; }
    :root.theme-purple .confetti-piece { --confetti-colors: '#a78bfa,#c4b5fd,#ede9fe'; }
    :root.theme-orange .confetti-piece { --confetti-colors: '#fb923c,#fed7aa,#ffedd5'; }
    :root.theme-pink .confetti-piece { --confetti-colors: '#f472b6,#fbcfe8,#fdf2f8'; }
    :root.theme-teal .confetti-piece { --confetti-colors: '#2dd4bf,#ccfbf1,#f0fdfa'; }
    :root.theme-grayscale .confetti-piece { --confetti-colors: '#ffffff,#eeeeee,#cccccc'; }
  </style>
</head>
<body>

  <div class="wrap">
    <main class="profile" id="profileCard" role="region" aria-label="Perfil do usuário">

      <!-- LEFT -->
      <section class="left" aria-hidden="false">
        <div class="avatar-wrap center" id="avatarWrap">
          <img id="avatar" class="avatar" src="" alt="Foto do usuário" />
        </div>

        <div class="name" id="nameBlock">
          <h1 id="userName">Carregando...</h1>
          <p id="userTag" class="muted">— Perfil público</p>
        </div>

        <div style="width:100%;display:flex;gap:8px;justify-content:center;margin-top:12px">
          <button class="btn ghost" id="editBtn" title="Editar perfil"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> Editar</button>
          <button class="btn ghost" id="settingsBtn" title="Configurações"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> Config</button>
          <button class="btn ghost warning-small" id="warningBtn" title="Aviso sobre questões"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="9"></line><line x1="9.5" y1="15" x2="14.5" y2="15"></line></svg> Aviso</button>
        </div>
      </section>

      <!-- RIGHT -->
      <section class="right" aria-hidden="false">
        <div class="topbar">
          <div class="email">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
            <span id="userEmail" class="small muted">—@—</span>
          </div>
        </div>

        <div>
          <h4 style="margin:10px 0 8px; font-weight:600">Navegue: Estude rápido</h4>
          <div class="topics-grid" id="topicsGrid" aria-label="Tópicos de redes">
            <!-- preenchido por JS -->
          </div>
        </div>

        <!-- NOVO: Botões principais lado a lado -->
        <div class="main-buttons">
          <a href="ensino.html" class="cta-button" aria-label="Montar sua própria rede de computadores">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2v20"></path>
              <path d="m21 12-9 9-9-9"></path>
              <path d="M21 12H3"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
            <span>Montar Minha Rede (V-ALPHA)</span>
          </a>

          <a href="prova.html" class="quiz-button" aria-label="Fazer prova com 30 questões">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 11.08V11a10 10 0 1 1-5.93-9.14"></path>
              <polyline points="22,4 12,14.01 9,11.01"></polyline>
            </svg>
            <span>Prova (FINAL)</span>
          </a>
        </div>

        <div style="margin-top:8px;display:flex;justify-content:flex-end">
          <button class="btn ghost" id="refreshBtn"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg> Recarregar</button>
        </div>
      </section>
    </main>
  </div>

  <!-- NOVO: Modal para o Aviso -->
  <div id="warningModal" class="warning-modal" role="dialog" aria-modal="true" aria-label="Aviso sobre questões">
    <div class="warning-modal-card">
      <h3>Atenção!</h3>
      <p>Atenção: você pode encontrar as mesmas questões elaboradas de maneira diferente para testar seu aprendizado.</p>
      <button id="closeWarning">Entendi</button>
    </div>
  </div>

  <!-- Modal de edição -->
  <div id="modal" class="modal" style="display:none" role="dialog" aria-modal="true" aria-label="Editar perfil">
    <div class="modal-card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <h3>Editar perfil</h3>
        <button class="btn" id="closeModal"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
      </div>
      <div style="display:flex;gap:12px;flex-direction:column">
        <label class="small">Nome</label>
        <input id="editName" type="text" placeholder="Seu nome" />
        <label class="small">Email</label>
        <input id="editEmail" type="email" placeholder="seu@exemplo.com" />
        <label class="small">URL da imagem (opcional)</label>
        <input id="editPic" type="text" placeholder="https://..." />
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
          <button class="btn primary" id="saveProfile">Salvar</button>
          <button class="btn ghost" id="cancelEdit">Cancelar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de Configurações (AGORA COM VISUALIZAÇÃO APRIMORADA DA PALETA) -->
  <div id="settingsModal" class="modal" style="display:none" role="dialog" aria-modal="true" aria-label="Configurações">
    <div class="modal-card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <h3>Configurações</h3>
        <button class="btn" id="closeSettings"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
      </div>
      <div style="display:flex;gap:12px;flex-direction:column">
        <label class="small">Tema da Interface</label>
        <div class="theme-preview" id="themePreview">
          <!-- Preenchido por JS com opções clicáveis -->
        </div>
        <div style="margin-top:20px">
          <button class="btn primary" id="logoutFromSettings">Sair</button>
        </div>
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
          <button class="btn ghost" id="closeSettingsBtn">Fechar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- WELCOME MODAL (ATUALIZADO COM NOVA LISTA DE DESENVOLVEDORES) -->
  <div id="welcomeModal" class="welcome-modal" style="display:none" role="dialog" aria-modal="true" aria-label="Bem-vindo ao Perfil">
    <div class="welcome-card" role="document">
      <button class="btn welcome-close" id="welcomeClose" title="Fechar"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>

      <div class="welcome-left">
        <div class="welcome-badge">Seja bem-vindo(a)</div>
        <h2 class="welcome-title">Olá! É ótimo ter você por aqui.</h2>
        <p class="welcome-sub">Bem-vindo ao Mundo das Redes de Computadores!<br><br>
Descubra de forma simples e prática como os computadores se conectam, trocam dados e formam a rede que impulsiona nossa comunicação digital diária.<br><br>
Nosso objetivo: mostrar a importância das redes na sociedade moderna e como elas viabilizam o mundo conectado que conhecemos.</p>

        <label class="small" style="margin-top:12px;display:block"><input id="dontShow" type="checkbox" style="margin-right:8px"> Não mostrar novamente</label>
      </div>

      <div class="welcome-right">
        <!-- Agora é um botão -->
        <button class="hero-plate" id="devToggleBtn">
          <h3 class="hero-title">Equipe de Desenvolvimento</h3>
          <ul class="dev-list" id="devList" aria-label="Lista de desenvolvedores">
            <li><span class="dev-name">Raquele de Jesus Santos</span></li>
            <li><span class="dev-name">Átila Santos Bispo</span></li>
            <li><span class="dev-name">Ana Caroline de Jesus</span></li>
            <li><span class="dev-name">Clícia Moraes de Lima</span></li>
            <li><span class="dev-name">Adriele Pereira Faustino</span></li>
            <li><span class="dev-name">Raiane Calvalcante Santos</span></li>
          </ul>
        </button>
      </div>

      <!-- Confete container (inserido dinamicamente) -->
      <div class="confetti-wrap" id="confettiWrap" aria-hidden="true"></div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const SUPABASE_URL = 'https://zszcwubydhgoyhxbxfro.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpzemN3dWJ5ZGhnb3loeGJ4ZnJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4MDk5MDMsImV4cCI6MjA3NTM4NTkwM30.ryioOoPAZnZzGdcTxIjfUcSlYUUqa7arA4qlUukyV7M';
    const { createClient } = window.supabase;
    const supabase = createClient(SUPABASE_URL.trim(), SUPABASE_ANON_KEY.trim());

    function parseJwt(token){ try{ const base64 = token.split('.')[1].replace(/-/g,'+').replace(/_/g,'/'); return JSON.parse(atob(base64)); }catch(e){return null} }

    const avatar = document.getElementById('avatar');
    const userName = document.getElementById('userName');
    const userEmail = document.getElementById('userEmail');
    const userTag = document.getElementById('userTag');
    const topicsGrid = document.getElementById('topicsGrid');
    const profileCard = document.getElementById('profileCard');

    // ✅ TÓPICOS COM SVGs REAIS (SEM DEPENDÊNCIA EXTERNA)
    const topicos = [
      {
        href: 'oque-e.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 0 0-7 17l1.59-1.59C7.46 18.8 8.7 19.5 10 19.5c1.3 0 2.54-.7 3.41-1.59L15 19.5A10 10 0 0 0 12 2z"></path><path d="M16.72 11.03a3.5 3.5 0 0 0-4.72-4.72"></path><path d="M12 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg>',
        title: 'Conceito de redes'
      },
      {
        href: 'historia.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path><path d="M8 7h6"></path><path d="M8 11h4"></path><path d="M8 15h6"></path></svg>',
        title: 'História das Redes'
      },
      {
        href: 'como-funciona.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="2" width="16" height="20" rx="2"></rect><path d="M9 18h6"></path><path d="M9 14h6"></path><path d="M8 6h.01"></path><path d="M16 6h.01"></path><path d="M12 6h.01"></path></svg>',
        title: 'Como Funciona'
      },
      {
        href: 'tipos.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20"></path><path d="m21 12-9 9-9-9"></path><path d="M21 12H3"></path></svg>',
        title: 'Tipos de Rede'
      },
      {
        href: 'dispositivos.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 22h20"></path><path d="M12 22V8"></path><path d="M6 22V12"></path><path d="M18 22V16"></path><path d="M12 8L8 12"></path><path d="M12 8l4 4"></path></svg>',
        title: 'Dispositivos'
      },
      {
        href: 'topologia.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="15" r="3"></circle><circle cx="9" cy="7" r="4"></circle><path d="M10 15H6a2 2 0 0 0-2 2v2"></path><path d="m21 15-3.05-3.05a2 2 0 0 0-2.85.05l-.9.9a2 2 0 0 0-.05 2.85L15 18"></path><path d="M10 7h11"></path><path d="M18 21v-7"></path></svg>',
        title: 'Topologias'
      },
      {
        href: 'protocolos.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m16 6 4 14"></path><path d="M12 6v14"></path><path d="M8 8v12"></path><path d="M4 4v16"></path></svg>',
        title: 'Protocolos'
      },
      {
        href: 'camadas.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20"></path><path d="M2 12h20"></path><path d="M2 7h20"></path><path d="M2 17h20"></path></svg>',
        title: 'Camadas'
      },
      {
        href: 'seguranca.html',
        svg: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>',
        title: 'Segurança'
      }
    ];

    // ✅ RENDERIZA OS TÓPICOS COM ÍCONES REAIS
    function renderTopics(){
      topicsGrid.innerHTML = '';
      for (const t of topicos) {
        const el = document.createElement('a');
        el.className = 'topic';
        el.href = t.href;
        el.innerHTML = `
          <div style="display:flex;align-items:center;justify-content:center;width:24px;height:24px">${t.svg}</div>
          <div>
            <strong>${t.title}</strong>
            <span class="muted small">Abrir</span>
          </div>
        `;
        topicsGrid.appendChild(el);
      }
    }

    const modal = document.getElementById('modal');
    const editBtn = document.getElementById('editBtn');
    const closeModal = document.getElementById('closeModal');
    const cancelEdit = document.getElementById('cancelEdit');
    const saveProfile = document.getElementById('saveProfile');
    const editName = document.getElementById('editName');
    const editEmail = document.getElementById('editEmail');
    const editPic = document.getElementById('editPic');

    editBtn.addEventListener('click', () => { modal.style.display = 'flex'; editName.value = userName.textContent === 'Carregando...' ? '' : userName.textContent; editEmail.value = userEmail.textContent.includes('@') ? userEmail.textContent : ''; editPic.value = avatar.src || ''; });
    [closeModal, cancelEdit].forEach(btn => { btn.addEventListener('click', () => modal.style.display = 'none'); });

    saveProfile.addEventListener('click', async () => {
      const nome = editName.value.trim(); const email = editEmail.value.trim(); const pic = editPic.value.trim();
      if(nome) userName.textContent = nome; if(email) userEmail.textContent = email; if(pic) loadAvatar(pic);
      modal.style.display = 'none';
      if(email){ try{ const { error } = await supabase.from('dadoscetep').update({ nome, picture: pic }).eq('email', email); if(error) console.warn('Erro ao salvar:', error); }catch(err){console.warn('Erro ao salvar no Supabase:', err);} }
    });

    function loadAvatar(url){ avatar.src = url || 'imagen/default.png'; }

    // NOVO: Lógica para o botão de aviso
    const warningBtn = document.getElementById('warningBtn');
    const warningModal = document.getElementById('warningModal');
    const closeWarning = document.getElementById('closeWarning');

    warningBtn.addEventListener('click', (e) => {
      e.preventDefault();
      warningModal.style.display = 'flex';
    });

    closeWarning.addEventListener('click', () => {
      warningModal.style.display = 'none';
    });

    // Fechar modal de aviso com ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && warningModal.style.display === 'flex') {
        warningModal.style.display = 'none';
      }
    });

    // Configurações de Tema (AGORA COM PREVIEW CLICÁVEL)
    function applyTheme(theme) {
      const root = document.documentElement;
      root.className = theme === 'blue' ? '' : `theme-${theme}`;
      localStorage.setItem('theme', theme);
      // Animação suave de transição
      root.style.transition = 'all 0.5s ease';
      // Atualizar seleção no preview
      document.querySelectorAll('.theme-option').forEach(opt => opt.classList.remove('selected'));
      document.querySelector(`.theme-option[data-theme="${theme}"]`)?.classList.add('selected');
    }

    // NOVO: Renderizar preview de temas no modal
    const themeOptions = [
      { value: 'blue', label: 'Azul (Padrão)' },
      { value: 'red', label: 'Vermelho' },
      { value: 'green', label: 'Verde' },
      { value: 'purple', label: 'Roxo' },
      { value: 'orange', label: 'Laranja' },
      { value: 'pink', label: 'Rosa' },
      { value: 'teal', label: 'Ciano' },
      { value: 'grayscale', label: 'Preto e Branco' }
    ];

    function renderThemePreview() {
      const preview = document.getElementById('themePreview');
      preview.innerHTML = '';
      themeOptions.forEach(opt => {
        const el = document.createElement('div');
        el.className = 'theme-option';
        el.dataset.theme = opt.value;
        el.innerHTML = `
          <div class="theme-swatch"></div>
          <span class="theme-label">${opt.label}</span>
        `;
        el.addEventListener('click', () => applyTheme(opt.value));
        preview.appendChild(el);
      });
      // Marcar o tema atual
      const currentTheme = localStorage.getItem('theme') || 'blue';
      document.querySelector(`.theme-option[data-theme="${currentTheme}"]`)?.classList.add('selected');
    }

    // Carregar tema salvo
    const savedTheme = localStorage.getItem('theme') || 'blue';
    applyTheme(savedTheme);

    // Renderizar preview ao abrir o modal de configurações
    const settingsModal = document.getElementById('settingsModal');
    const settingsBtn = document.getElementById('settingsBtn');
    const closeSettings = document.getElementById('closeSettings');
    const closeSettingsBtn = document.getElementById('closeSettingsBtn');

    settingsBtn.addEventListener('click', () => { 
      settingsModal.style.display = 'flex'; 
      renderThemePreview();  // Renderizar preview ao abrir
    });
    [closeSettings, closeSettingsBtn].forEach(btn => { btn.addEventListener('click', () => settingsModal.style.display = 'none'); });

    async function carregarPerfil(){ let email = localStorage.getItem('userEmail'); if(!email){ const token = localStorage.getItem('googleToken'); const payload = parseJwt(token); email = payload?.email; }
      if(!email){ userName.textContent = 'Convidado'; userTag.textContent = 'Faça login para ver seu perfil'; userEmail.textContent = '—'; loadAvatar('imagen/default.png'); renderTopics(); return; }

      userEmail.textContent = email; userName.textContent = 'Carregando...';

      try{
        const { data, error } = await supabase.from('dadoscetep').select('nome, email, picture, created_at').eq('email', email).single();
        if(error || !data){ console.warn('Usuário não encontrado:', error); userName.textContent = email.split('@')[0]; userTag.textContent = 'Perfil básico'; loadAvatar('imagen/default.png'); }
        else{ userName.textContent = data.nome || email.split('@')[0]; userEmail.textContent = data.email || email; userTag.textContent = 'Bem-vindo(a)'; loadAvatar(data.picture || 'imagen/default.png'); }
      }catch(err){ console.error('Erro crítico:', err); userName.textContent = email.split('@')[0]; userTag.textContent = 'Erro ao conectar'; loadAvatar('imagen/default.png'); }
      finally{ renderTopics(); profileCard.animate([{ transform: 'scale(0.998)' }, { transform: 'scale(1)' }], { duration: 300, easing: 'ease-out' }); }
    }

    document.getElementById('refreshBtn').addEventListener('click', carregarPerfil);

    // Logout (agora no modal de configurações)
    function handleLogout() {
      localStorage.removeItem('userEmail');
      localStorage.removeItem('googleToken');
      location.href = 'index.html';
    }
    document.getElementById('logoutFromSettings').addEventListener('click', handleLogout);

    const welcomeModal = document.getElementById('welcomeModal');
    const welcomeClose = document.getElementById('welcomeClose');
    const dontShow = document.getElementById('dontShow');
    const confettiWrap = document.getElementById('confettiWrap');

    function random(min, max){ return Math.random() * (max - min) + min; }

    function launchConfetti(){
      confettiWrap.innerHTML = '';
      const colors = ['#ff3b3b','#ffd23f','#64b5f6','#7cf59b','#d69df7','#ff8fa3'];
      const pieces = 42;
      for(let i=0;i<pieces;i++){
        const el = document.createElement('div');
        el.className = 'confetti-piece';
        const left = Math.floor(random(5,95));
        const dx = Math.floor(random(-80,80));
        const rot = Math.floor(random(180,1080));
        const delay = (random(0,0.6)).toFixed(2) + 's';
        const duration = (random(0.9,1.6)).toFixed(2) + 's';
        el.style.left = left + '%';
        el.style.background = colors[i % colors.length];
        el.style.setProperty('--dx', dx + 'px');
        el.style.setProperty('--rot', rot + 'deg');
        el.style.animationDelay = delay;
        el.style.animationDuration = duration;
        if(Math.random() > 0.5){ el.style.width = '12px'; el.style.height = '8px'; }
        confettiWrap.appendChild(el);
      }
      setTimeout(()=>{ if(confettiWrap) confettiWrap.innerHTML = ''; }, 3000);
    }

    function showWelcome(){ const seen = localStorage.getItem('seenWelcome'); if(seen) return; welcomeModal.style.display = 'flex'; setTimeout(() => { welcomeClose.focus(); launchConfetti(); }, 180); }
    function hideWelcome(save){ welcomeModal.style.display = 'none'; if(save) localStorage.setItem('seenWelcome','1'); profileCard.animate([{ transform: 'scale(1)' }, { transform: 'scale(1.02)' }, { transform: 'scale(1)' }], { duration: 420, easing: 'ease-out' }); }
    welcomeClose.addEventListener('click', () => { hideWelcome(dontShow.checked); });

    // Toggle equipe de desenvolvedores
    const devToggleBtn = document.getElementById('devToggleBtn');
    const welcomeLeft = document.querySelector('.welcome-left');
    const welcomeBadge = document.querySelector('.welcome-badge');
    const welcomeTitle = document.querySelector('.welcome-title');
    const welcomeSub = document.querySelector('.welcome-sub');
    const dontShowContainer = dontShow.parentElement;
    const originalHeroTitleText = (devToggleBtn.querySelector('.hero-title') || {}).textContent || 'Equipe de Desenvolvimento';
    const devListOriginal = document.getElementById('devList');
    let devListClone = null;

    devToggleBtn.addEventListener('click', (e) => {
      const isActive = devToggleBtn.classList.contains('dev-active');
      const heroTitleEl = devToggleBtn.querySelector('.hero-title');

      if (!isActive) {
        welcomeBadge.style.display = 'none';
        welcomeTitle.style.display = 'none';
        welcomeSub.style.display = 'none';
        dontShowContainer.style.display = 'none';

        if (devListOriginal) {
          devListClone = devListOriginal.cloneNode(true);
          devListClone.id = 'devListClone';
          devListClone.style.display = 'flex';
          devListClone.style.maxHeight = '360px';
          devListClone.style.overflowY = 'auto';
          devListClone.style.paddingRight = '6px';
          welcomeLeft.appendChild(devListClone);
          requestAnimationFrame(() => {
            devListClone.style.opacity = '1';
            devListClone.style.transform = 'translateY(0)';
          });
        }

        devToggleBtn.classList.add('dev-active');
        devToggleBtn.setAttribute('aria-pressed', 'true');
        if (heroTitleEl) heroTitleEl.textContent = 'Boas-vindas';
        devToggleBtn.title = 'Mostrar boas-vindas';
      } else {
        welcomeBadge.style.display = '';
        welcomeTitle.style.display = '';
        welcomeSub.style.display = '';
        dontShowContainer.style.display = '';

        if (devListClone) {
          devListClone.style.opacity = '0';
          devListClone.style.transform = 'translateY(6px)';
          setTimeout(() => { if (devListClone) { devListClone.remove(); devListClone = null; } }, 260);
        }

        devToggleBtn.classList.remove('dev-active');
        devToggleBtn.setAttribute('aria-pressed', 'false');
        if (heroTitleEl) heroTitleEl.textContent = originalHeroTitleText;
        devToggleBtn.title = 'Equipe de Desenvolvimento';
      }
    });

    document.addEventListener('keydown', (e) => { if(e.key === 'Escape' && (welcomeModal.style.display === 'flex' || settingsModal.style.display === 'flex' || modal.style.display === 'flex')){ if(welcomeModal.style.display === 'flex') hideWelcome(dontShow.checked); else { welcomeModal.style.display = 'none'; settingsModal.style.display = 'none'; modal.style.display = 'none'; } } });

    document.addEventListener('DOMContentLoaded', () => { try{ showWelcome(); }catch(e){ console.warn('Welcome failed:', e);} carregarPerfil(); });
  </script>
</body>
</html>